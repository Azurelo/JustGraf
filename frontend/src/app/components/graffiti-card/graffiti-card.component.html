<div class="graffiti-card">
  <img [src]="graffiti.imageUrl" alt="{{ graffiti.title }}">
  <h3>{{ graffiti.title }}</h3>
  <p><strong>By:</strong> {{ graffiti.artist }}</p>
  <p>{{ graffiti.location }}</p>
  <p>{{ graffiti.description }}</p>

  <div class="like-buttons">
    <button (click)="toggleLike()" [class.active]="liked">👍 {{ graffiti.likes || 0 }}</button>
    <button (click)="toggleDislike()" [class.active]="disliked">👎 {{ graffiti.dislikes || 0 }}</button>
  </div>

  <div class="action-buttons mt-2">
    <button class="btn btn-sm btn-primary me-2" (click)="openEditModal()">Edit</button>
    <button class="btn btn-sm btn-danger" (click)="delete()">Delete</button>
  </div>
</div>

<ng-template [ngIf]="isEditing">
  <div class="modal-backdrop" (click)="closeEditModal()"></div>
  <div class="modal">
    <form (ngSubmit)="submitEdit()">
      <h4>Edit Graffiti</h4>
      <input type="text" [(ngModel)]="editData.title" name="title" required placeholder="Title" />
      <input type="text" [(ngModel)]="editData.artist" name="artist" placeholder="Artist" />
      <input type="text" [(ngModel)]="editData.location" name="location" placeholder="Location" />
      <input type="text" [(ngModel)]="editData.imageUrl" name="imageUrl" placeholder="Image URL" />
      <textarea [(ngModel)]="editData.description" name="description" placeholder="Description"></textarea>
      <div class="mt-2">
        <button type="submit" class="btn btn-success btn-sm">Save</button>
        <button type="button" class="btn btn-secondary btn-sm" (click)="closeEditModal()">Cancel</button>
      </div>
    </form>
  </div>
</ng-template>
